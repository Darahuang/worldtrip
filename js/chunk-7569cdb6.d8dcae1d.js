(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7569cdb6"],{1915:function(e,t,c){"use strict";function r(){window.pageYOffset>100&&window.scrollTo({top:0,behavior:"smooth"})}c.d(t,"a",(function(){return r}))},"3a5e":function(e,t,c){"use strict";var r=c("7a23"),n=Object(r["createElementVNode"])("div",{class:"bubblingG"},[Object(r["createElementVNode"])("span",{id:"bubblingG_1"}),Object(r["createElementVNode"])("span",{id:"bubblingG_2"}),Object(r["createElementVNode"])("span",{id:"bubblingG_3"})],-1);function o(e,t,c,o,l,a){var s=Object(r["resolveComponent"])("Loading",!0);return Object(r["openBlock"])(),Object(r["createBlock"])(s,{active:c.isLoading},{default:Object(r["withCtx"])((function(){return[n]})),_:1},8,["active"])}var l={props:{isLoading:{type:Boolean,default:!1}}},a=c("6b0d"),s=c.n(a);const d=s()(l,[["render",o]]);t["a"]=d},"99af":function(e,t,c){"use strict";var r=c("23e7"),n=c("da84"),o=c("d039"),l=c("e8b5"),a=c("861d"),s=c("7b0b"),d=c("07fa"),i=c("8418"),b=c("65f0"),u=c("1dde"),m=c("b622"),p=c("2d00"),j=m("isConcatSpreadable"),O=9007199254740991,E="Maximum allowed index exceeded",g=n.TypeError,N=p>=51||!o((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),V=u("concat"),f=function(e){if(!a(e))return!1;var t=e[j];return void 0!==t?!!t:l(e)},h=!N||!V;r({target:"Array",proto:!0,forced:h},{concat:function(e){var t,c,r,n,o,l=s(this),a=b(l,0),u=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?l:arguments[t],f(o)){if(n=d(o),u+n>O)throw g(E);for(c=0;c<n;c++,u++)c in o&&i(a,u,o[c])}else{if(u>=O)throw g(E);i(a,u++,o)}return a.length=u,a}})},b0c0:function(e,t,c){var r=c("83ab"),n=c("5e77").EXISTS,o=c("e330"),l=c("9bf2").f,a=Function.prototype,s=o(a.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,i=o(d.exec),b="name";r&&!n&&l(a,b,{configurable:!0,get:function(){try{return i(d,s(this))[1]}catch(e){return""}}})},b275:function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),n={key:0,class:"container my-5"},o={class:"row justify-content-center"},l={class:"col-lg-8"},a=Object(r["createElementVNode"])("h2",{class:"topic mb-3"},"訂單細節",-1),s={class:"border mb-5 bg-primary-light"},d=["src"],i={class:"flex-grow-1 d-flex flex-column flex-sm-row justify-content-between ms-3"},b={class:"h5"},u={class:"h6"},m={class:"border-top d-flex justify-content-end align-items-center p-3"},p=Object(r["createElementVNode"])("span",null,"訂單金額",-1),j={key:0,class:"ms-3 text-primary fw-bold h4"},O=Object(r["createElementVNode"])("h2",{class:"topic mb-3"},"客戶資料",-1),E={key:0,class:"row border align-items-center"},g={class:"col-md-6"},N={class:"table table-borderless"},V=Object(r["createElementVNode"])("th",{style:{width:"120px"},class:"px-3"},"姓名",-1),f=Object(r["createElementVNode"])("th",{style:{width:"120px"},class:"px-3"},"電話:",-1),h=Object(r["createElementVNode"])("th",{style:{width:"120px"},class:"px-3"},"信箱:",-1),y=Object(r["createElementVNode"])("th",{style:{width:"120px"},class:"px-3"},"地址:",-1),k=Object(r["createElementVNode"])("th",{style:{width:"120px"},class:"px-3"},"付款方式:",-1),v=Object(r["createElementVNode"])("th",{style:{width:"120px"},class:"px-3"},"付款狀態:",-1),x={key:0,class:"text-danger"},w={key:1,class:"text-success"},B=Object(r["createElementVNode"])("div",{class:"col-md-6 d-none d-md-block"},[Object(r["createElementVNode"])("div",{class:"user-bg bg-size-contain bg-repeat-no-repeat bg-position-center float-end"})],-1),S={key:1,class:"container my-5"},D={class:"row vh-100 align-items-center position-relative"},C={class:"col-md-6 z-index"},L={class:"px-3"},_=Object(r["createElementVNode"])("h2",{class:"text-primary fw-bold h1"},[Object(r["createElementVNode"])("span",{class:"material-icons-outlined h1 align-middle text-secondary"}," paid "),Object(r["createTextVNode"])("付款完成 ")],-1),T=Object(r["createElementVNode"])("h3",{class:"h5 mb-3 fw-bold"},"行程資訊",-1),z={class:"table table-borderless"},I=Object(r["createElementVNode"])("th",{style:{width:"80px"},class:"fw-normal"},"行程名稱",-1),F=Object(r["createElementVNode"])("th",{style:{width:"80px"},class:"fw-normal"},"參加人數",-1),R=Object(r["createElementVNode"])("th",{style:{width:"80px"},class:"fw-normal"},"付款金額",-1),G=Object(r["createElementVNode"])("hr",null,null,-1),P=Object(r["createElementVNode"])("h3",{class:"h5 mb-3 fw-bold"},"付款資訊",-1),$={key:0,class:"table table-borderless"},q=Object(r["createElementVNode"])("td",null,"姓名",-1),J=Object(r["createElementVNode"])("td",null,"連絡電話",-1),M=Object(r["createElementVNode"])("td",null,"連絡地址",-1),A=Object(r["createElementVNode"])("td",{style:{width:"80px"}},"付款狀態",-1),U={key:0,class:"text-success"},X={key:1,class:"text-danger"},Y=Object(r["createElementVNode"])("td",null,"付款日",-1),H=Object(r["createElementVNode"])("td",null,"付款方式",-1),K=Object(r["createTextVNode"])("挑選行程"),Q=Object(r["createElementVNode"])("div",{class:"col-md-6 payment-bg payment-bg-md-position bg-size-cover bg-position-center"},null,-1);function W(e,t,c,W,Z,ee){var te=Object(r["resolveComponent"])("Loading"),ce=Object(r["resolveComponent"])("ProgressBar"),re=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createVNode"])(te,{isLoading:e.isLoading},null,8,["isLoading"]),e.order.is_paid?(Object(r["openBlock"])(),Object(r["createElementBlock"])("section",S,[Object(r["createElementVNode"])("div",D,[Object(r["createElementVNode"])("div",C,[Object(r["createElementVNode"])("div",L,[_,T,Object(r["createElementVNode"])("table",z,[Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.order.products,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:t.id},[Object(r["createElementVNode"])("tr",null,[I,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.product.title),1)]),Object(r["createElementVNode"])("tr",null,[F,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.qty)+Object(r["toDisplayString"])(t.product.unit),1)]),Object(r["createElementVNode"])("tr",null,[R,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.$filters.dollarSignThousandth(t.final_total)),1)])],64)})),128))])]),G,P,e.order.user?(Object(r["openBlock"])(),Object(r["createElementBlock"])("table",$,[Object(r["createElementVNode"])("tbody",null,[Object(r["createElementVNode"])("tr",null,[q,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.name),1)]),Object(r["createElementVNode"])("tr",null,[J,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.tel),1)]),Object(r["createElementVNode"])("tr",null,[M,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.address),1)]),Object(r["createElementVNode"])("tr",null,[A,Object(r["createElementVNode"])("td",null,[e.order.is_paid?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",U,"已付款")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",X,"未付款"))])]),Object(r["createElementVNode"])("tr",null,[Y,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.$filters.date(e.order.paid_date)),1)]),Object(r["createElementVNode"])("tr",null,[H,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.payment_method),1)])])])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(re,{to:"/products",class:"btn btn-slide-right float-end border-0 px-5"},{default:Object(r["withCtx"])((function(){return[K]})),_:1})])]),Q])])):(Object(r["openBlock"])(),Object(r["createElementBlock"])("section",n,[Object(r["createElementVNode"])("div",o,[Object(r["createElementVNode"])("div",l,[Object(r["createVNode"])(ce,{done:e.done},null,8,["done"]),a,Object(r["createElementVNode"])("div",s,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.order.products,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"d-flex align-items-center p-3",key:t.id},[Object(r["createElementVNode"])("img",{src:t.product.imageUrl,class:"cart-img object-fit-cover object-position-center",alt:"產品圖片"},null,8,d),Object(r["createElementVNode"])("div",i,[Object(r["createElementVNode"])("h3",b,Object(r["toDisplayString"])(t.product.title)+" *"+Object(r["toDisplayString"])(t.qty)+" "+Object(r["toDisplayString"])(t.product.unit),1),Object(r["createElementVNode"])("h3",u,Object(r["toDisplayString"])(e.$filters.dollarSignThousandth(t.final_total)),1)])])})),128)),Object(r["createElementVNode"])("div",m,[p,e.order.total?(Object(r["openBlock"])(),Object(r["createElementBlock"])("h3",j,Object(r["toDisplayString"])(e.$filters.dollarSignThousandth(e.order.total)),1)):Object(r["createCommentVNode"])("",!0)])]),O,e.order.user?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",E,[Object(r["createElementVNode"])("div",g,[Object(r["createElementVNode"])("table",N,[Object(r["createElementVNode"])("tbody",null,[Object(r["createElementVNode"])("tr",null,[V,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.name),1)]),Object(r["createElementVNode"])("tr",null,[f,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.tel),1)]),Object(r["createElementVNode"])("tr",null,[h,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.email),1)]),Object(r["createElementVNode"])("tr",null,[y,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.address),1)]),Object(r["createElementVNode"])("tr",null,[k,Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(e.order.user.payment_method),1)]),Object(r["createElementVNode"])("tr",null,[v,Object(r["createElementVNode"])("td",null,[e.order.is_paid?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",w,"已付款")):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",x,"未付款"))])])])])]),B])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("button",{class:"btn btn-primary btn-slide-right border-0 py-2 px-5 float-end mt-3",onClick:t[0]||(t[0]=function(){return W.payOrder&&W.payOrder.apply(W,arguments)})}," 確認付款 ")])])]))],64)}var Z=c("5530"),ee=c("1da1"),te=(c("96cf"),c("99af"),c("3a5e")),ce=c("b6b4"),re=c("1915"),ne=c("6c02"),oe={components:{Loading:te["a"],ProgressBar:ce["a"]},setup:function(){var e=Object(r["inject"])("Message"),t=Object(r["inject"])("axios"),c=Object(ne["d"])(),n=Object(r["reactive"])({isLoading:!1,done:c.name,orderId:"",order:{}});function o(){return l.apply(this,arguments)}function l(){return l=Object(ee["a"])(regeneratorRuntime.mark((function c(){var r,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("starlightselection","/order/").concat(n.orderId),n.isLoading=!0,c.prev=2,c.next=5,t.get(r);case 5:o=c.sent,o.data.success&&(n.order=o.data.order),Object(re["a"])(),n.isLoading=!1,c.next=15;break;case 11:c.prev=11,c.t0=c["catch"](2),e("error","無法取得訂單，請再次確認!"),n.isLoading=!1;case 15:case"end":return c.stop()}}),c,null,[[2,11]])}))),l.apply(this,arguments)}function a(){return s.apply(this,arguments)}function s(){return s=Object(ee["a"])(regeneratorRuntime.mark((function c(){var r,l;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return r="".concat("https://vue3-course-api.hexschool.io","/api/").concat("starlightselection","/pay/").concat(n.orderId),n.isLoading=!0,c.prev=2,c.next=5,t.post(r);case 5:l=c.sent,l.data.success&&(o(),e("success","".concat(l.data.message))),n.isLoading=!1,c.next=14;break;case 10:c.prev=10,c.t0=c["catch"](2),e("error","付款未完成，請再次確認"),n.isLoading=!1;case 14:case"end":return c.stop()}}),c,null,[[2,10]])}))),s.apply(this,arguments)}n.orderId=c.params.orderId,o();var d=Object(r["toRefs"])(n);return Object(Z["a"])(Object(Z["a"])({},d),{},{payOrder:a,getOrder:o})}},le=c("6b0d"),ae=c.n(le);const se=ae()(oe,[["render",W]]);t["default"]=se},b6b4:function(e,t,c){"use strict";var r=c("7a23"),n={class:"container mb-5"},o={class:"list-unstyled row"},l=Object(r["createElementVNode"])("p",{class:"fs-7"},"確認購物車",-1),a=[l],s=Object(r["createElementVNode"])("p",{class:"fs-7"},"填寫資料",-1),d=[s],i=Object(r["createElementVNode"])("p",{class:"fs-7"},"確認訂單",-1),b=[i];function u(e,t,c,l,s,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[Object(r["createElementVNode"])("ul",o,[Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["progressBar-step progressBar-icon1 col-4",{"progressBar-done":"Carts"===c.done||l.step2||l.step3}])},a,2),Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["progressBar-step progressBar-icon2 col-4",{"progressBar-done":"Checkout"===c.done||l.step3}])},d,2),Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["progressBar-step progressBar-icon3 col-4",{"progressBar-done":"Payment"===c.done}])},b,2)])])}var m={props:{done:{type:String}},setup:function(e){var t=Object(r["computed"])((function(){return"Checkout"===e.done})),c=Object(r["computed"])((function(){return"Payment"===e.done}));return{step2:t,step3:c}}},p=c("6b0d"),j=c.n(p);const O=j()(m,[["render",u]]);t["a"]=O}}]);
//# sourceMappingURL=chunk-7569cdb6.d8dcae1d.js.map