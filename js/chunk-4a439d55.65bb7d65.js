(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a439d55"],{"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("da84"),c=n("d039"),o=n("e8b5"),l=n("861d"),i=n("7b0b"),s=n("07fa"),d=n("8418"),u=n("65f0"),b=n("1dde"),m=n("b622"),p=n("2d00"),f=m("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",v=r.TypeError,w=p>=51||!c((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),h=b("concat"),V=function(e){if(!l(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)},g=!w||!h;a({target:"Array",proto:!0,forced:g},{concat:function(e){var t,n,a,r,c,o=i(this),l=u(o,0),b=0;for(t=-1,a=arguments.length;t<a;t++)if(c=-1===t?o:arguments[t],V(c)){if(r=s(c),b+r>j)throw v(O);for(n=0;n<r;n++,b++)n in c&&d(l,b,c[n])}else{if(b>=j)throw v(O);d(l,b++,c)}return l.length=b,l}})},aa92:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={class:"login-bg bg-size-cover bg-position-center d-flex align-items-center"},c={class:"container"},o={class:"row justify-content-center"},l={class:"col-md-6 col-lg-4"},i=Object(a["createElementVNode"])("h2",{class:"text-center text-white fw-bold"},"登入後台頁面",-1),s={class:"mb-3"},d=Object(a["createElementVNode"])("label",{for:"account",class:"form-label text-white fw-bold"},"帳號",-1),u={class:"mb-3"},b=Object(a["createElementVNode"])("label",{for:"password",class:"form-label text-white fw-bold"},"密碼",-1),m=["disabled"],p=Object(a["createElementVNode"])("span",{class:"material-icons-outlined align-middle"}," arrow_back ",-1),f=Object(a["createTextVNode"])(" 回到WorldTrip "),j={ref:"fail",class:"text-danger h6 mt-3 fw-bold"};function O(e,t,n,O,v,w){var h=Object(a["resolveComponent"])("Field"),V=Object(a["resolveComponent"])("ErrorMessage"),g=Object(a["resolveComponent"])("router-link"),x=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("section",r,[Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",o,[Object(a["createElementVNode"])("div",l,[i,Object(a["createVNode"])(x,{onSubmit:O.login},{default:Object(a["withCtx"])((function(n){var r=n.errors,c=n.meta;return[Object(a["createElementVNode"])("div",s,[d,Object(a["createVNode"])(h,{type:"email",id:"account",name:"帳號",rules:"email|required",class:Object(a["normalizeClass"])([{"is-invalid":r["帳號"]},"form-control rounded-pill login-input p-2"]),placeholder:"請輸入帳號",modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.username=t})},null,8,["class","modelValue"]),Object(a["createVNode"])(V,{name:"帳號",class:"invalid-feedback"})]),Object(a["createElementVNode"])("div",u,[b,Object(a["createVNode"])(h,{type:"password",id:"password",name:"密碼",rules:"required",class:Object(a["normalizeClass"])([{"is-invalid":r["密碼"]},"form-control rounded-pill login-input p-2"]),placeholder:"請輸入密碼",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t})},null,8,["class","modelValue"]),Object(a["createVNode"])(V,{name:"密碼",class:"invalid-feedback"})]),Object(a["createElementVNode"])("button",{class:"btn btn-primary col-12 rounded-pill p-2 my-3",disabled:!c.valid,type:"submit"}," 登入 ",8,m),Object(a["createVNode"])(g,{to:"/",class:"text-decoration-none nav-link-primary"},{default:Object(a["withCtx"])((function(){return[p,f]})),_:1}),Object(a["createElementVNode"])("p",j,null,512)]})),_:1},8,["onSubmit"])])])])])}var v=n("5530"),w=n("1da1"),h=(n("96cf"),n("99af"),n("6c02")),V={setup:function(){var e=Object(a["inject"])("Message"),t=Object(a["inject"])("axios"),n=Object(h["e"])(),r=Object(a["reactive"])({username:"",password:""}),c=Object(a["ref"])(null);function o(){return l.apply(this,arguments)}function l(){return l=Object(w["a"])(regeneratorRuntime.mark((function a(){var o,l,i,s,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o="".concat("https://vue3-course-api.hexschool.io","/admin/signin"),a.prev=1,a.next=4,t.post(o,r);case 4:l=a.sent,l.data.success?(i=l.data,s=i.token,d=i.expired,document.cookie="starlightselection = ".concat(s,"; expires=").concat(new Date(d)),n.push("/admin")):c.value.textContent="登入失敗，請再次嘗試",a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),e("error","無法登入，請再次確認!");case 11:case"end":return a.stop()}}),a,null,[[1,8]])}))),l.apply(this,arguments)}var i=Object(a["toRefs"])(r);return Object(v["a"])(Object(v["a"])({},i),{},{login:o,fail:c})}},g=n("6b0d"),x=n.n(g);const N=x()(V,[["render",O]]);t["default"]=N}}]);
//# sourceMappingURL=chunk-4a439d55.65bb7d65.js.map