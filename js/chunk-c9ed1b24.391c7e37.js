(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9ed1b24"],{"3a5e":function(e,t,n){"use strict";var c=n("7a23"),r=Object(c["createElementVNode"])("div",{class:"bubblingG"},[Object(c["createElementVNode"])("span",{id:"bubblingG_1"}),Object(c["createElementVNode"])("span",{id:"bubblingG_2"}),Object(c["createElementVNode"])("span",{id:"bubblingG_3"})],-1);function a(e,t,n,a,o,i){var d=Object(c["resolveComponent"])("Loading",!0);return Object(c["openBlock"])(),Object(c["createBlock"])(d,{active:n.isLoading},{default:Object(c["withCtx"])((function(){return[r]})),_:1},8,["active"])}var o={props:{isLoading:{type:Boolean,default:!1}}},i=n("6b0d"),d=n.n(i);const l=d()(o,[["render",a]]);t["a"]=l},"51a3":function(e,t,n){"use strict";n("e9c4");var c={save:function(e){var t=JSON.stringify(e);localStorage.setItem("favorite",t)},get:function(){return JSON.parse(localStorage.getItem("favorite"))}};t["a"]=c},"99af":function(e,t,n){"use strict";var c=n("23e7"),r=n("da84"),a=n("d039"),o=n("e8b5"),i=n("861d"),d=n("7b0b"),l=n("07fa"),s=n("8418"),u=n("65f0"),b=n("1dde"),f=n("b622"),m=n("2d00"),g=f("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",O=r.TypeError,j=m>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),h=b("concat"),y=function(e){if(!i(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},N=!j||!h;c({target:"Array",proto:!0,forced:N},{concat:function(e){var t,n,c,r,a,o=d(this),i=u(o,0),b=0;for(t=-1,c=arguments.length;t<c;t++)if(a=-1===t?o:arguments[t],y(a)){if(r=l(a),b+r>p)throw O(v);for(n=0;n<r;n++,b++)n in a&&s(i,b,a[n])}else{if(b>=p)throw O(v);s(i,b++,a)}return i.length=b,i}})},a434:function(e,t,n){"use strict";var c=n("23e7"),r=n("da84"),a=n("23cb"),o=n("5926"),i=n("07fa"),d=n("7b0b"),l=n("65f0"),s=n("8418"),u=n("1dde"),b=u("splice"),f=r.TypeError,m=Math.max,g=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!b},{splice:function(e,t){var n,c,r,u,b,O,j=d(this),h=i(j),y=a(e,h),N=arguments.length;if(0===N?n=c=0:1===N?(n=0,c=h-y):(n=N-2,c=g(m(o(t),0),h-y)),h+n-c>p)throw f(v);for(r=l(j,c),u=0;u<c;u++)b=y+u,b in j&&s(r,u,j[b]);if(r.length=c,n<c){for(u=y;u<h-c;u++)b=u+c,O=u+n,b in j?j[O]=j[b]:delete j[O];for(u=h;u>h-c+n;u--)delete j[u-1]}else if(n>c)for(u=h-c;u>y;u--)b=u+c-1,O=u+n-1,b in j?j[O]=j[b]:delete j[O];for(u=0;u<n;u++)j[u+y]=arguments[u+2];return j.length=h-c+n,r}})},c740:function(e,t,n){"use strict";var c=n("23e7"),r=n("b727").findIndex,a=n("44d2"),o="findIndex",i=!0;o in[]&&Array(1)[o]((function(){i=!1})),c({target:"Array",proto:!0,forced:i},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a(o)},cdfb:function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var c=n("7a23"),r={key:0,class:"container my-5"},a=Object(c["createElementVNode"])("h2",{class:"text-center text-primary fw-bold h1 mb-4"},[Object(c["createElementVNode"])("span",{class:"material-icons-outlined h1 align-middle text-secondary"}," favorite "),Object(c["createTextVNode"])(" 收藏清單 ")],-1),o={class:"row justify-content-center"},i={class:"col-md-10"},d={class:"row"},l={class:"card products-card h-100 cursor"},s={class:"position-relative"},u={class:"overflow-hidden"},b=["src","onClick"],f=["onClick"],m={class:"badge bg-secondary badge-position p-2"},g=["onClick"],p={class:"card-title h4"},v={class:"card-text"},O={class:"h5 text-danger"},j=["onClick","disabled"],h={key:0,class:"spinner-border text-white spinner-border-sm",role:"status"},y=Object(c["createElementVNode"])("span",{class:"visually-hidden"},"Loading...",-1),N=[y],x=Object(c["createTextVNode"])(" 立即報名 "),E={key:1,class:"container"},V={class:"d-flex flex-column justify-content-center align-items-center vh-100"},k=Object(c["createElementVNode"])("div",{class:"favorite-img bg-size-contain bg-repeat-no-repeat"},null,-1),w=Object(c["createElementVNode"])("p",{class:"fw-bold h4 text-center mb-4"},[Object(c["createTextVNode"])(" 收藏清單目前沒有商品，"),Object(c["createElementVNode"])("br"),Object(c["createTextVNode"])(" 立刻挑選喜愛的行程吧！ ")],-1),S=Object(c["createTextVNode"])(" 挑選行程 ");function F(e,t,n,y,F,C){var B=Object(c["resolveComponent"])("Loading"),I=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[Object(c["createVNode"])(B,{isLoading:e.isLoading},null,8,["isLoading"]),0!==e.myFavorite.length?(Object(c["openBlock"])(),Object(c["createElementBlock"])("section",r,[a,Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",i,[Object(c["createElementVNode"])("div",d,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.myFavorite,(function(t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"col-md-4",key:t.id},[Object(c["createElementVNode"])("div",l,[Object(c["createElementVNode"])("div",s,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("img",{src:t.imageUrl,class:"products-card-img",alt:"產品圖片",onClick:function(e){return y.toProduct(t.id)}},null,8,b)]),Object(c["createElementVNode"])("span",{class:"material-icons-outlined text-danger favoriteIcon-bg p-2 favoriteIcon-position",onClick:function(e){return y.removeFavorite(t)}}," favorite ",8,f),Object(c["createElementVNode"])("span",m,Object(c["toDisplayString"])(t.category),1)]),Object(c["createElementVNode"])("div",{class:"card-body text-center",onClick:function(e){return y.toProduct(t.id)}},[Object(c["createElementVNode"])("h2",p,Object(c["toDisplayString"])(t.title),1),Object(c["createElementVNode"])("p",v,Object(c["toDisplayString"])(t.description),1),Object(c["createElementVNode"])("p",O,Object(c["toDisplayString"])(e.$filters.dollarSignThousandth(t.price)),1),Object(c["createElementVNode"])("button",{class:"btn btn-slide-right col-6 p-2 border-0 mt-2",onClick:function(e){return y.addToCart(t.id)},disabled:e.loadingStatus.loadingItem===t.id},[e.loadingStatus.loadingItem===t.id?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",h,N)):Object(c["createCommentVNode"])("",!0),x],8,j)],8,g)])])})),128))])])])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("section",E,[Object(c["createElementVNode"])("div",V,[k,w,Object(c["createVNode"])(I,{to:"/products",class:"btn btn-slide-right border-0 px-5 py-2"},{default:Object(c["withCtx"])((function(){return[S]})),_:1})])]))],64)}var C=n("5530"),B=n("1da1"),I=(n("96cf"),n("c740"),n("a434"),n("99af"),n("3a5e")),L=n("6c02"),D=n("51a3"),T=n("cfb9"),A={components:{Loading:I["a"]},setup:function(){var e=Object(c["inject"])("Message"),t=Object(c["inject"])("axios"),n=Object(L["e"])(),r=Object(c["reactive"])({isLoading:!1,myFavorite:D["a"].get()||[],loadingStatus:{loadingItem:""}});function a(t){var n=r.myFavorite.findIndex((function(e){return e.title===t.title}));-1!==n&&(r.myFavorite.splice(n,1),e("warning","".concat(t.title,"從收藏清單移出")))}function o(e){n.push("/product/".concat(e))}function i(e){return d.apply(this,arguments)}function d(){return d=Object(B["a"])(regeneratorRuntime.mark((function n(c){var a,o,i,d,l=arguments;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:1,o="".concat("https://vue3-course-api.hexschool.io","/api/").concat("starlightselection","/cart"),i={product_id:c,qty:a},r.isLoading=!0,r.loadingStatus.loadingItem=c,n.prev=5,n.next=8,t.post(o,{data:i});case 8:d=n.sent,d.data.success?(T["a"].emit("emit-carts"),e("success","".concat(d.data.message))):e("error","".concat(d.data.message)),r.isLoading=!1,r.loadingStatus.loadingItem="",n.next=19;break;case 14:n.prev=14,n.t0=n["catch"](5),e("error","無法報名，請再次確認!"),r.isLoading=!1,r.loadingStatus.loadingItem="";case 19:case"end":return n.stop()}}),n,null,[[5,14]])}))),d.apply(this,arguments)}Object(c["watch"])((function(){return r.myFavorite}),(function(){D["a"].save(r.myFavorite),T["a"].emit("emit-myFavorite")}),{deep:!0});var l=Object(c["toRefs"])(r);return Object(C["a"])(Object(C["a"])({},l),{},{removeFavorite:a,addToCart:i,toProduct:o})}},J=n("6b0d"),M=n.n(J);const _=M()(A,[["render",F]]);t["default"]=_},cfb9:function(e,t,n){"use strict";var c=function(e){return{all:e=e||new Map,on:function(t,n){var c=e.get(t);c?c.push(n):e.set(t,[n])},off:function(t,n){var c=e.get(t);c&&(n?c.splice(c.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var c=e.get(t);c&&c.slice().map((function(e){e(n)})),(c=e.get("*"))&&c.slice().map((function(e){e(t,n)}))}}},r=c();t["a"]=r},e01a:function(e,t,n){"use strict";var c=n("23e7"),r=n("83ab"),a=n("da84"),o=n("e330"),i=n("1a2d"),d=n("1626"),l=n("3a9b"),s=n("577e"),u=n("9bf2").f,b=n("e893"),f=a.Symbol,m=f&&f.prototype;if(r&&d(f)&&(!("description"in m)||void 0!==f().description)){var g={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=l(m,this)?new f(e):void 0===e?f():f(e);return""===e&&(g[t]=!0),t};b(p,f),p.prototype=m,m.constructor=p;var v="Symbol(test)"==String(f("test")),O=o(m.toString),j=o(m.valueOf),h=/^Symbol\((.*)\)[^)]+$/,y=o("".replace),N=o("".slice);u(m,"description",{configurable:!0,get:function(){var e=j(this),t=O(e);if(i(g,e))return"";var n=v?N(t,7,-1):y(t,h,"$1");return""===n?void 0:n}}),c({global:!0,forced:!0},{Symbol:p})}},e9c4:function(e,t,n){var c=n("23e7"),r=n("da84"),a=n("d066"),o=n("2ba4"),i=n("e330"),d=n("d039"),l=r.Array,s=a("JSON","stringify"),u=i(/./.exec),b=i("".charAt),f=i("".charCodeAt),m=i("".replace),g=i(1..toString),p=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,j=function(e,t,n){var c=b(n,t-1),r=b(n,t+1);return u(v,e)&&!u(O,r)||u(O,e)&&!u(v,c)?"\\u"+g(f(e,0),16):e},h=d((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&c({target:"JSON",stat:!0,forced:h},{stringify:function(e,t,n){for(var c=0,r=arguments.length,a=l(r);c<r;c++)a[c]=arguments[c];var i=o(s,null,a);return"string"==typeof i?m(i,p,j):i}})}}]);
//# sourceMappingURL=chunk-c9ed1b24.391c7e37.js.map